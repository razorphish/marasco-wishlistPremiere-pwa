(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"7k6U":function(t,i,e){var a,r,s,n,o,h;n=document,o=Math,function(n){r=[e("EVdn")],void 0===(s="function"==typeof(a=n)?a.apply(i,r):a)||(t.exports=s)}(function(t){"use strict";var i,e,a,r,s,l,p,g,d,c,u,f,m,v,x,C,y,b,k,w,R,S,M,_,H,W,T,I,q,L={},P=0;i=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:h,normalRangeMax:h,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:h,chartRangeMax:h,chartRangeMinX:h,chartRangeMaxX:h,tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:h,nullColor:h,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:h,chartRangeMin:h,chartRangeClip:!1,colorMap:h,tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:h,thresholdValue:0,chartRangeMax:h,chartRangeMin:h,chartRangeClip:!1,tooltipFormat:new a("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:h,tooltipFormat:new a("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:h,targetColor:"#4a2",chartRangeMax:h,chartRangeMin:h,tooltipFormat:new a("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},e=function(){var i,e;return i=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(i.prototype=t.extend(new arguments[0],arguments[arguments.length-1]),i._super=arguments[0].prototype):i.prototype=arguments[arguments.length-1],arguments.length>2&&((e=Array.prototype.slice.call(arguments,1,-1)).unshift(i.prototype),t.extend.apply(t,e))):i.prototype=arguments[0],i.prototype.cls=i,i},t.SPFormatClass=a=e({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,i){this.format=t,this.fclass=i},render:function(t,i,e){var a,r,s,n,o,l=this,p=t;return this.format.replace(this.fre,function(){return s=arguments[3],(a=l.precre.exec(r=arguments[1]))?(o=a[2],r=a[1]):o=!1,(n=p[r])===h?"":s&&i&&i[s]?i[s].get?i[s].get(n)||n:i[s][n]||n:(d(n)&&(n=e.get("numberFormatter")?e.get("numberFormatter")(n):m(n,o,e.get("numberDigitGroupCount"),e.get("numberDigitGroupSep"),e.get("numberDecimalMark"))),n)})}}),t.spformat=function(t,i){return new a(t,i)},r=function(t,i,e){return i>t?i:t>e?e:t},s=function(t,i){var e;return 2===i?(e=o.floor(t.length/2),t.length%2?t[e]:(t[e-1]+t[e])/2):t.length%2?(e=(t.length*i+i)/4)%1?(t[o.floor(e)]+t[o.floor(e)-1])/2:t[e-1]:(e=(t.length*i+2)/4)%1?(t[o.floor(e)]+t[o.floor(e)-1])/2:t[e-1]},l=function(t){var i;switch(t){case"undefined":t=h;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:t==(i=parseFloat(t))&&(t=i)}return t},p=function(t){var i,e=[];for(i=t.length;i--;)e[i]=l(t[i]);return e},g=function(t,i){var e,a,r=[];for(e=0,a=t.length;a>e;e++)t[e]!==i&&r.push(t[e]);return r},d=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},m=function(i,e,a,r,s){var n,o;for(i=(!1===e?parseFloat(i).toString():i.toFixed(e)).split(""),(n=(n=t.inArray(".",i))<0?i.length:n)<i.length&&(i[n]=s),o=n-a;o>0;o-=a)i.splice(o,0,r);return i.join("")},c=function(t,i,e){var a;for(a=i.length;a--;)if((!e||null!==i[a])&&i[a]!==t)return!1;return!0},f=function(i){return t.isArray(i)?i:[i]},u=function(t){var e,a;if(n.createStyleSheet)try{return void(n.createStyleSheet().cssText=t)}catch(i){a=!0}(e=n.createElement("style")).type="text/css",n.getElementsByTagName("head")[0].appendChild(e),a?n.styleSheets[n.styleSheets.length-1].cssText=t:e["string"==typeof n.body.style.WebkitAppearance?"innerText":"innerHTML"]=t},t.fn.simpledraw=function(i,e,a,r){var s,o;if(a&&(s=this.data("_jqs_vcanvas")))return s;if(!1===t.fn.sparkline.canvas)return!1;if(t.fn.sparkline.canvas===h){var l=n.createElement("canvas");if(l.getContext&&l.getContext("2d"))t.fn.sparkline.canvas=function(t,i,e,a){return new T(t,i,e,a)};else{if(!n.namespaces||n.namespaces.v)return t.fn.sparkline.canvas=!1,!1;n.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),t.fn.sparkline.canvas=function(t,i,e){return new I(t,i,e)}}}return i===h&&(i=t(this).innerWidth()),e===h&&(e=t(this).innerHeight()),s=t.fn.sparkline.canvas(i,e,this,r),(o=t(this).data("_jqs_mhandler"))&&o.registerCanvas(s),s},t.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},t.RangeMapClass=v=e({init:function(t){var i,e,a=[];for(i in t)t.hasOwnProperty(i)&&"string"==typeof i&&i.indexOf(":")>-1&&((e=i.split(":"))[0]=0===e[0].length?-1/0:parseFloat(e[0]),e[1]=0===e[1].length?1/0:parseFloat(e[1]),e[2]=t[i],a.push(e));this.map=t,this.rangelist=a||!1},get:function(t){var i,e,a,r=this.rangelist;if((a=this.map[t])!==h)return a;if(r)for(i=r.length;i--;)if((e=r[i])[0]<=t&&e[1]>=t)return e[2];return h}}),t.range_map=function(t){return new v(t)},x=e({init:function(i,e){var a=t(i);this.$el=a,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=i,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(i){var e=t(i.canvas);this.canvas=i,this.$canvas=e,e.mouseenter(t.proxy(this.mouseenter,this)),e.mouseleave(t.proxy(this.mouseleave,this)),e.click(t.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=h)},mouseclick:function(i){var e=t.Event("sparklineClick");e.originalEvent=i,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(i){t(n.body).unbind("mousemove.jqs"),t(n.body).bind("mousemove.jqs",t.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=i.pageX,this.currentPageY=i.pageY,this.currentEl=i.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new C(this.options),this.tooltip.updatePosition(i.pageX,i.pageY)),this.updateDisplay()},mouseleave:function(){t(n.body).unbind("mousemove.jqs");var i,e=this.splist,a=e.length,r=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),i=0;a>i;i++)e[i].clearRegionHighlight()&&(r=!0);r&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var i,e,a,r,s=this.splist,n=s.length,o=!1,h=this.$canvas.offset(),l=this.currentPageX-h.left,p=this.currentPageY-h.top;if(this.over){for(e=0;n>e;e++)(a=s[e].setRegionHighlight(this.currentEl,l,p))&&(o=!0);if(o){if((r=t.Event("sparklineRegionChange")).sparklines=this.splist,this.$el.trigger(r),this.tooltip){for(i="",e=0;n>e;e++)i+=s[e].getCurrentRegionTooltip();this.tooltip.setContent(i)}this.disableHighlight||this.canvas.render()}null===a&&this.mouseleave()}}}),C=e({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(i){var e,a=i.get("tooltipClassname","jqstooltip"),r=this.sizeStyle;this.container=i.get("tooltipContainer")||n.body,this.tooltipOffsetX=i.get("tooltipOffsetX",10),this.tooltipOffsetY=i.get("tooltipOffsetY",12),t("#jqssizetip").remove(),t("#jqstooltip").remove(),this.sizetip=t("<div/>",{id:"jqssizetip",style:r,class:a}),this.tooltip=t("<div/>",{id:"jqstooltip",class:a}).appendTo(this.container),e=this.tooltip.offset(),this.offsetLeft=e.left,this.offsetTop=e.top,this.hidden=!0,t(window).unbind("resize.jqs scroll.jqs"),t(window).bind("resize.jqs scroll.jqs",t.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=t(window).scrollTop(),this.scrollLeft=t(window).scrollLeft(),this.scrollRight=this.scrollLeft+t(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){return t?(this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),void(this.hidden&&(this.hidden=!1,this.updatePosition()))):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(t,i){if(t===h){if(this.mousex===h)return;t=this.mousex-this.offsetLeft,i=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=i-=this.offsetTop;this.height&&this.width&&!this.hidden&&((i-=this.height+this.tooltipOffsetY)<this.scrollTop&&(i=this.scrollTop),(t+=this.tooltipOffsetX)<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:i}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=h,t(window).unbind("resize.jqs scroll.jqs")}}),t(function(){u('.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;box-sizing: content-box;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}')}),q=[],t.fn.sparkline=function(i,e){return this.each(function(){var a,r,s=new t.fn.sparkline.options(this,e),o=t(this);if(a=function(){var e,a,r,l,p,g,d;return"html"===i||i===h?(((d=this.getAttribute(s.get("tagValuesAttribute")))===h||null===d)&&(d=o.html()),e=d.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):e=i,a="auto"===s.get("width")?e.length*s.get("defaultPixelsPerValue"):s.get("width"),"auto"===s.get("height")?s.get("composite")&&t.data(this,"_jqs_vcanvas")||((l=n.createElement("span")).innerHTML="a",o.html(l),r=t(l).innerHeight()||t(l).height(),t(l).remove(),l=null):r=s.get("height"),s.get("disableInteraction")?p=!1:(p=t.data(this,"_jqs_mhandler"))?s.get("composite")||p.reset():(p=new x(this,s),t.data(this,"_jqs_mhandler",p)),s.get("composite")&&!t.data(this,"_jqs_vcanvas")?void(t.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),t.data(this,"_jqs_errnotify",!0))):((g=new(t.fn.sparkline[s.get("type")])(this,e,s,a,r)).render(),void(p&&p.registerSparkline(g)))},t(this).html()&&!s.get("disableHiddenCheck")&&t(this).is(":hidden")||!t(this).parents("body").length){if(!s.get("composite")&&t.data(this,"_jqs_pending"))for(r=q.length;r;r--)q[r-1][0]==this&&q.splice(r-1,1);q.push([this,a]),t.data(this,"_jqs_pending",!0)}else a.call(this)})},t.fn.sparkline.defaults=i(),t.sparkline_display_visible=function(){var i,e,a,r=[];for(e=0,a=q.length;a>e;e++)t(i=q[e][0]).is(":visible")&&!t(i).parents().is(":hidden")?(q[e][1].call(i),t.data(q[e][0],"_jqs_pending",!1),r.push(e)):t(i).closest("html").length||t.data(i,"_jqs_pending")||(t.data(q[e][0],"_jqs_pending",!1),r.push(e));for(e=r.length;e;e--)q.splice(r[e-1],1)},t.fn.sparkline.options=e({init:function(i,e){var a,r,s;this.userOptions=e=e||{},this.tag=i,this.tagValCache={},r=(a=t.fn.sparkline.defaults).common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||r.tagOptionsPrefix),s=this.getTagSetting("type"),this.mergedOptions=t.extend({},r,s===L?a[e.type||r.type]:a[s],e)},getTagSetting:function(t){var i,e,a,r,s=this.tagOptionsPrefix;if(!1===s||s===h)return L;if(this.tagValCache.hasOwnProperty(t))i=this.tagValCache.key;else{if((i=this.tag.getAttribute(s+t))===h||null===i)i=L;else if("["===i.substr(0,1))for(e=(i=i.substr(1,i.length-2).split(",")).length;e--;)i[e]=l(i[e].replace(/(^\s*)|(\s*$)/g,""));else if("{"===i.substr(0,1))for(a=i.substr(1,i.length-2).split(","),i={},e=a.length;e--;)i[(r=a[e].split(":",2))[0].replace(/(^\s*)|(\s*$)/g,"")]=l(r[1].replace(/(^\s*)|(\s*$)/g,""));else i=l(i);this.tagValCache.key=i}return i},get:function(t,i){var e,a=this.getTagSetting(t);return a!==L?a:(e=this.mergedOptions[t])===h?i:e}}),t.fn.sparkline._base=e({disabled:!1,init:function(i,e,a,r,s){this.el=i,this.$el=t(i),this.values=e,this.options=a,this.width=r,this.height=s,this.currentRegion=h},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(){},setRegionHighlight:function(t,i,e){var a,r=this.currentRegion,s=!this.options.get("disableHighlight");return i>this.canvasWidth||e>this.canvasHeight||0>i||0>e?null:r!==(a=this.getRegion(t,i,e))&&(r!==h&&s&&this.removeHighlight(),this.currentRegion=a,a!==h&&s&&this.renderHighlight(),!0)},clearRegionHighlight:function(){return this.currentRegion!==h&&(this.removeHighlight(),this.currentRegion=h,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var i,e,r,s,n,o,l,p,g,d,c,u,f,m=this.options,v="",x=[];if(this.currentRegion===h)return"";if(i=this.getCurrentRegionFields(),d=m.get("tooltipFormatter"))return d(this,m,i);if(m.get("tooltipChartTitle")&&(v+='<div class="jqs jqstitle">'+m.get("tooltipChartTitle")+"</div>\n"),!(e=this.options.get("tooltipFormat")))return"";if(t.isArray(e)||(e=[e]),t.isArray(i)||(i=[i]),l=this.options.get("tooltipFormatFieldlist"),p=this.options.get("tooltipFormatFieldlistKey"),l&&p){for(g=[],o=i.length;o--;)-1!=(f=t.inArray(i[o][p],l))&&(g[f]=i[o]);i=g}for(r=e.length,u=i.length,o=0;r>o;o++)for("string"==typeof(c=e[o])&&(c=new a(c)),s=c.fclass||"jqsfield",f=0;u>f;f++)i[f].isNull&&m.get("tooltipSkipNull")||(t.extend(i[f],{prefix:m.get("tooltipPrefix"),suffix:m.get("tooltipSuffix")}),n=c.render(i[f],m.get("tooltipValueLookups"),m),x.push('<div class="'+s+'">'+n+"</div>"));return x.length?v+x.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,i){var e,a,s,n,h=i.get("highlightColor"),l=i.get("highlightLighten");if(h)return h;if(l&&(e=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(s=[],a=4===t.length?16:1,n=0;3>n;n++)s[n]=r(o.round(parseInt(e[n+1],16)*a*l),0,255);return"rgb("+s.join(",")+")"}return t}}),y={changeHighlight:function(i){var e,a=this.currentRegion,r=this.target,s=this.regionShapes[a];s&&(e=this.renderRegion(a,i),t.isArray(e)||t.isArray(s)?(r.replaceWithShapes(s,e),this.regionShapes[a]=t.map(e,function(t){return t.id})):(r.replaceWithShape(s,e),this.regionShapes[a]=e.id))},render:function(){var i,e,a,r,s=this.values,n=this.target,o=this.regionShapes;if(this.cls._super.render.call(this)){for(a=s.length;a--;)if(i=this.renderRegion(a))if(t.isArray(i)){for(e=[],r=i.length;r--;)i[r].append(),e.push(i[r].id);o[a]=e}else i.append(),o[a]=i.id;else o[a]=null;n.render()}}},t.fn.sparkline.line=b=e(t.fn.sparkline._base,{type:"line",init:function(t,i,e,a,r){b._super.init.call(this,t,i,e,a,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,i){var e,a=this.regionMap;for(e=a.length;e--;)if(null!==a[e]&&i>=a[e][0]&&i<=a[e][1])return a[e][2];return h},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,i,e=this.target,a=this.vertices[this.currentRegion],r=this.options,s=r.get("spotRadius"),n=r.get("highlightSpotColor"),o=r.get("highlightLineColor");a&&(s&&n&&(t=e.drawCircle(a[0],a[1],s,h,n),this.highlightSpotId=t.id,e.insertAfterShape(this.lastShapeId,t)),o&&(i=e.drawLine(a[0],this.canvasTop,a[0],this.canvasTop+this.canvasHeight,o),this.highlightLineId=i.id,e.insertAfterShape(this.lastShapeId,i)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,i,e,a,r,s=this.values,n=s.length,h=this.xvalues,l=this.yvalues,p=this.yminmax;for(t=0;n>t;t++)i=s[t],e="string"==typeof s[t],a="object"==typeof s[t]&&s[t]instanceof Array,r=e&&s[t].split(":"),e&&2===r.length?(h.push(Number(r[0])),l.push(Number(r[1])),p.push(Number(r[1]))):a?(h.push(i[0]),l.push(i[1]),p.push(i[1])):(h.push(t),null===s[t]||"null"===s[t]?l.push(null):(l.push(Number(i)),p.push(Number(i))));this.options.get("xvalues")&&(h=this.options.get("xvalues")),this.maxy=this.maxyorg=o.max.apply(o,p),this.miny=this.minyorg=o.min.apply(o,p),this.maxx=o.max.apply(o,h),this.minx=o.min.apply(o,h),this.xvalues=h,this.yvalues=l,this.yminmax=p},processRangeOptions:function(){var t=this.options,i=t.get("normalRangeMin"),e=t.get("normalRangeMax");i!==h&&(i<this.miny&&(this.miny=i),e>this.maxy&&(this.maxy=e)),t.get("chartRangeMin")!==h&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==h&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==h&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==h&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,i,e,a,r){var s=this.options.get("normalRangeMin"),n=this.options.get("normalRangeMax"),l=i+o.round(e-e*((n-this.miny)/r)),p=o.round(e*(n-s)/r);this.target.drawRect(t,l,a,p,h,this.options.get("normalRangeColor")).append()},render:function(){var i,e,a,r,s,n,l,p,g,d,c,u,f,m,x,C,y,k,w,R,S,M,_,H,W,T=this.options,I=this.target,q=this.canvasWidth,L=this.canvasHeight,P=this.vertices,A=T.get("spotRadius"),j=this.regionMap;if(b._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),_=this.xvalues,H=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(r=s=0,i=this.maxx-this.minx==0?1:this.maxx-this.minx,e=this.maxy-this.miny==0?1:this.maxy-this.miny,a=this.yvalues.length-1,A&&(4*A>q||4*A>L)&&(A=0),A&&(((S=T.get("highlightSpotColor")&&!T.get("disableInteraction"))||T.get("minSpotColor")||T.get("spotColor")&&H[a]===this.miny)&&(L-=o.ceil(A)),(S||T.get("maxSpotColor")||T.get("spotColor")&&H[a]===this.maxy)&&(L-=o.ceil(A),r+=o.ceil(A)),(S||(T.get("minSpotColor")||T.get("maxSpotColor"))&&(H[0]===this.miny||H[0]===this.maxy))&&(s+=o.ceil(A),q-=o.ceil(A)),(S||T.get("spotColor")||T.get("minSpotColor")||T.get("maxSpotColor")&&(H[a]===this.miny||H[a]===this.maxy))&&(q-=o.ceil(A))),L--,T.get("normalRangeMin")===h||T.get("drawNormalOnTop")||this.drawNormalRange(s,r,L,q,e),p=[l=[]],m=x=null,C=H.length,W=0;C>W;W++)c=_[W+1],d=H[W],u=s+o.round(q/i*((g=_[W])-this.minx)),f=C-1>W?s+o.round(q/i*(c-this.minx)):q,j[W]=[m||0,x=u+(f-u)/2,W],m=x,null===d?W&&(null!==H[W-1]&&p.push(l=[]),P.push(null)):(d<this.miny&&(d=this.miny),d>this.maxy&&(d=this.maxy),l.length||l.push([u,r+L]),n=[u,r+o.round(L-L*((d-this.miny)/e))],l.push(n),P.push(n));for(y=[],k=[],w=p.length,W=0;w>W;W++)(l=p[W]).length&&(T.get("fillColor")&&(l.push([l[l.length-1][0],r+L]),k.push(l.slice(0)),l.pop()),l.length>2&&(l[0]=[l[0][0],l[1][1]]),y.push(l));for(w=k.length,W=0;w>W;W++)I.drawShape(k[W],T.get("fillColor"),T.get("fillColor")).append();for(T.get("normalRangeMin")!==h&&T.get("drawNormalOnTop")&&this.drawNormalRange(s,r,L,q,e),w=y.length,W=0;w>W;W++)I.drawShape(y[W],T.get("lineColor"),h,T.get("lineWidth")).append();if(A&&T.get("valueSpots"))for((R=T.get("valueSpots")).get===h&&(R=new v(R)),W=0;C>W;W++)(M=R.get(H[W]))&&I.drawCircle(s+o.round(q/i*(_[W]-this.minx)),r+o.round(L-L*((H[W]-this.miny)/e)),A,h,M).append();A&&T.get("spotColor")&&null!==H[a]&&I.drawCircle(s+o.round(q/i*(_[_.length-1]-this.minx)),r+o.round(L-L*((H[a]-this.miny)/e)),A,h,T.get("spotColor")).append(),this.maxy!==this.minyorg&&(A&&T.get("minSpotColor")&&(g=_[t.inArray(this.minyorg,H)],I.drawCircle(s+o.round(q/i*(g-this.minx)),r+o.round(L-L*((this.minyorg-this.miny)/e)),A,h,T.get("minSpotColor")).append()),A&&T.get("maxSpotColor")&&(g=_[t.inArray(this.maxyorg,H)],I.drawCircle(s+o.round(q/i*(g-this.minx)),r+o.round(L-L*((this.maxyorg-this.miny)/e)),A,h,T.get("maxSpotColor")).append())),this.lastShapeId=I.getLastShapeId(),this.canvasTop=r,I.render()}}}),t.fn.sparkline.bar=k=e(t.fn.sparkline._base,y,{type:"bar",init:function(i,e,a,s,n){var d,c,u,f,m,x,C,y,b,w,R,S,M,_,H,W,T,I,q,L,P,A=parseInt(a.get("barWidth"),10),j=parseInt(a.get("barSpacing"),10),B=a.get("chartRangeMin"),F=a.get("chartRangeMax"),O=a.get("chartRangeClip"),V=1/0,z=-1/0;for(k._super.init.call(this,i,e,a,s,n),x=0,C=e.length;C>x;x++)((d="string"==typeof(L=e[x])&&L.indexOf(":")>-1)||t.isArray(L))&&(H=!0,d&&(L=e[x]=p(L.split(":"))),L=g(L,null),V>(c=o.min.apply(o,L))&&(V=c),(u=o.max.apply(o,L))>z&&(z=u));this.stacked=H,this.regionShapes={},this.barWidth=A,this.barSpacing=j,this.totalBarWidth=A+j,this.width=s=e.length*A+(e.length-1)*j,this.initTarget(),O&&(M=B===h?-1/0:B,_=F===h?1/0:F),m=[],f=H?[]:m;var X=[],E=[];for(x=0,C=e.length;C>x;x++)if(H)for(W=e[x],e[x]=q=[],X[x]=0,f[x]=E[x]=0,T=0,I=W.length;I>T;T++)null!==(L=q[T]=O?r(W[T],M,_):W[T])&&(L>0&&(X[x]+=L),0>V&&z>0?0>L?E[x]+=o.abs(L):f[x]+=L:f[x]+=o.abs(L-(0>L?z:V)),m.push(L));else L=O?r(e[x],M,_):e[x],null!==(L=e[x]=l(L))&&m.push(L);this.max=S=o.max.apply(o,m),this.min=R=o.min.apply(o,m),this.stackMax=z=H?o.max.apply(o,X):S,this.stackMin=V=H?o.min.apply(o,m):R,a.get("chartRangeMin")!==h&&(a.get("chartRangeClip")||a.get("chartRangeMin")<R)&&(R=a.get("chartRangeMin")),a.get("chartRangeMax")!==h&&(a.get("chartRangeClip")||a.get("chartRangeMax")>S)&&(S=a.get("chartRangeMax")),this.zeroAxis=b=a.get("zeroAxis",!0),this.xaxisOffset=w=0>=R&&S>=0&&b?0:0==b?R:R>0?R:S,y=H?o.max.apply(o,f)+o.max.apply(o,E):S-R,this.canvasHeightEf=b&&0>R?this.canvasHeight-2:this.canvasHeight-1,w>R?(P=((H&&S>=0?z:S)-w)/y*this.canvasHeight)!==o.ceil(P)&&(this.canvasHeightEf-=2,P=o.ceil(P)):P=this.canvasHeight,this.yoffset=P,t.isArray(a.get("colorMap"))?(this.colorMapByIndex=a.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=a.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===h&&(this.colorMapByValue=new v(this.colorMapByValue))),this.range=y},getRegion:function(t,i){var e=o.floor(i/this.totalBarWidth);return 0>e||e>=this.values.length?h:e},getCurrentRegionFields:function(){var t,i,e=this.currentRegion,a=f(this.values[e]),r=[];for(i=a.length;i--;)r.push({isNull:null===(t=a[i]),value:t,color:this.calcColor(i,t,e),offset:e});return r},calcColor:function(i,e,a){var r,s,n=this.colorMapByIndex,o=this.colorMapByValue,l=this.options;return r=l.get(this.stacked?"stackedBarColor":0>e?"negBarColor":"barColor"),0===e&&l.get("zeroColor")!==h&&(r=l.get("zeroColor")),o&&(s=o.get(e))?r=s:n&&n.length>a&&(r=n[a]),t.isArray(r)?r[i%r.length]:r},renderRegion:function(i,e){var a,r,s,n,l,p,g,d,u,f,m=this.values[i],v=this.options,x=this.xaxisOffset,C=[],y=this.range,b=this.stacked,k=this.target,w=i*this.totalBarWidth,R=this.canvasHeightEf,S=this.yoffset;if(g=(m=t.isArray(m)?m:[m]).length,d=m[0],n=c(null,m),f=c(x,m,!0),n)return v.get("nullColor")?(s=e?v.get("nullColor"):this.calcHighlightColor(v.get("nullColor"),v),k.drawRect(w,a=S>0?S-1:S,this.barWidth-1,0,s,s)):h;for(l=S,p=0;g>p;p++){if(d=m[p],b&&d===x){if(!f||u)continue;u=!0}r=y>0?o.floor(R*(o.abs(d-x)/y))+1:1,x>d||d===x&&0===S?(a=l,l+=r):(a=S-r,S-=r),s=this.calcColor(p,d,i),e&&(s=this.calcHighlightColor(s,v)),C.push(k.drawRect(w,a,this.barWidth-1,r-1,s,s))}return 1===C.length?C[0]:C}}),t.fn.sparkline.tristate=w=e(t.fn.sparkline._base,y,{type:"tristate",init:function(i,e,a,r,s){var n=parseInt(a.get("barWidth"),10),o=parseInt(a.get("barSpacing"),10);w._super.init.call(this,i,e,a,r,s),this.regionShapes={},this.barWidth=n,this.barSpacing=o,this.totalBarWidth=n+o,this.values=t.map(e,Number),this.width=r=e.length*n+(e.length-1)*o,t.isArray(a.get("colorMap"))?(this.colorMapByIndex=a.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=a.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===h&&(this.colorMapByValue=new v(this.colorMapByValue))),this.initTarget()},getRegion:function(t,i){return o.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===h,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,i){var e,a=this.values,r=this.options,s=this.colorMapByIndex,n=this.colorMapByValue;return n&&(e=n.get(t))?e:s&&s.length>i?s[i]:r.get(a[i]<0?"negBarColor":a[i]>0?"posBarColor":"zeroBarColor")},renderRegion:function(t,i){var e,a,r,s,n,h=this.values,l=this.options,p=this.target;return a=o.round(p.pixelHeight/2),r=t*this.totalBarWidth,h[t]<0?(s=a,e=a-1):h[t]>0?(s=0,e=a-1):(s=a-1,e=2),null!==(n=this.calcColor(h[t],t))?(i&&(n=this.calcHighlightColor(n,l)),p.drawRect(r,s,this.barWidth-1,e-1,n,n)):void 0}}),t.fn.sparkline.discrete=R=e(t.fn.sparkline._base,y,{type:"discrete",init:function(i,e,a,r,s){R._super.init.call(this,i,e,a,r,s),this.regionShapes={},this.values=e=t.map(e,Number),this.min=o.min.apply(o,e),this.max=o.max.apply(o,e),this.range=this.max-this.min,this.width=r="auto"===a.get("width")?2*e.length:this.width,this.interval=o.floor(r/e.length),this.itemWidth=r/e.length,a.get("chartRangeMin")!==h&&(a.get("chartRangeClip")||a.get("chartRangeMin")<this.min)&&(this.min=a.get("chartRangeMin")),a.get("chartRangeMax")!==h&&(a.get("chartRangeClip")||a.get("chartRangeMax")>this.max)&&(this.max=a.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===a.get("lineHeight")?o.round(.3*this.canvasHeight):a.get("lineHeight"))},getRegion:function(t,i){return o.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===h,value:this.values[t],offset:t}},renderRegion:function(t,i){var e,a,s,n,h=this.options,l=this.min,p=this.range,g=this.interval,d=this.target,c=this.lineHeight,u=this.canvasHeight-c;return a=r(this.values[t],l,this.max),n=t*g,e=o.round(u-u*((a-l)/p)),s=h.get("thresholdColor")&&a<h.get("thresholdValue")?h.get("thresholdColor"):h.get("lineColor"),i&&(s=this.calcHighlightColor(s,h)),d.drawLine(n,e,n,e+c,s)}}),t.fn.sparkline.bullet=S=e(t.fn.sparkline._base,{type:"bullet",init:function(t,i,e,a,r){var s,n,l;S._super.init.call(this,t,i,e,a,r),this.values=i=p(i),(l=i.slice())[0]=null===l[0]?l[2]:l[0],l[1]=null===i[1]?l[2]:l[1],s=o.min.apply(o,i),n=o.max.apply(o,i),s=e.get("base")===h?0>s?s:0:e.get("base"),this.min=s,this.max=n,this.range=n-s,this.shapes={},this.valueShapes={},this.regiondata={},this.width=a="auto"===e.get("width")?"4.0em":a,this.target=this.$el.simpledraw(a,r,e.get("composite")),i.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,i,e){var a=this.target.getShapeAt(t,i,e);return a!==h&&this.shapes[a]!==h?this.shapes[a]:h},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var i,e=this.currentRegion,a=this.valueShapes[e];switch(delete this.shapes[a],e.substr(0,1)){case"r":i=this.renderRange(e.substr(1),t);break;case"p":i=this.renderPerformance(t);break;case"t":i=this.renderTarget(t)}this.valueShapes[e]=i.id,this.shapes[i.id]=e,this.target.replaceWithShape(a,i)},renderRange:function(t,i){var e=o.round(this.canvasWidth*((this.values[t]-this.min)/this.range)),a=this.options.get("rangeColors")[t-2];return i&&(a=this.calcHighlightColor(a,this.options)),this.target.drawRect(0,0,e-1,this.canvasHeight-1,a,a)},renderPerformance:function(t){var i=o.round(this.canvasWidth*((this.values[1]-this.min)/this.range)),e=this.options.get("performanceColor");return t&&(e=this.calcHighlightColor(e,this.options)),this.target.drawRect(0,o.round(.3*this.canvasHeight),i-1,o.round(.4*this.canvasHeight)-1,e,e)},renderTarget:function(t){var i=o.round(this.canvasWidth*((this.values[0]-this.min)/this.range)-this.options.get("targetWidth")/2),e=o.round(.1*this.canvasHeight),a=this.canvasHeight-2*e,r=this.options.get("targetColor");return t&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(i,e,this.options.get("targetWidth")-1,a-1,r,r)},render:function(){var t,i,e=this.values.length,a=this.target;if(S._super.render.call(this)){for(t=2;e>t;t++)i=this.renderRange(t).append(),this.shapes[i.id]="r"+t,this.valueShapes["r"+t]=i.id;null!==this.values[1]&&(i=this.renderPerformance().append(),this.shapes[i.id]="p1",this.valueShapes.p1=i.id),null!==this.values[0]&&(i=this.renderTarget().append(),this.shapes[i.id]="t0",this.valueShapes.t0=i.id),a.render()}}}),t.fn.sparkline.pie=M=e(t.fn.sparkline._base,{type:"pie",init:function(i,e,a,r,s){var n,h=0;if(M._super.init.call(this,i,e,a,r,s),this.shapes={},this.valueShapes={},this.values=e=t.map(e,Number),"auto"===a.get("width")&&(this.width=this.height),e.length>0)for(n=e.length;n--;)h+=e[n];this.total=h,this.initTarget(),this.radius=o.floor(o.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,i,e){var a=this.target.getShapeAt(t,i,e);return a!==h&&this.shapes[a]!==h?this.shapes[a]:h},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===h,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var i=this.currentRegion,e=this.renderSlice(i,t),a=this.valueShapes[i];delete this.shapes[a],this.target.replaceWithShape(a,e),this.valueShapes[i]=e.id,this.shapes[e.id]=i},renderSlice:function(t,i){var e,a,r,s,n,l=this.target,p=this.options,g=this.radius,d=p.get("borderWidth"),c=p.get("offset"),u=2*o.PI,f=this.values,m=this.total,v=c?2*o.PI*(c/360):0;for(s=f.length,r=0;s>r;r++){if(e=v,a=v,m>0&&(a=v+u*(f[r]/m)),t===r)return n=p.get("sliceColors")[r%p.get("sliceColors").length],i&&(n=this.calcHighlightColor(n,p)),l.drawPieSlice(g,g,g-d,e,a,h,n);v=a}},render:function(){var t,i,e=this.target,a=this.values,r=this.options,s=this.radius,n=r.get("borderWidth");if(M._super.render.call(this)){for(n&&e.drawCircle(s,s,o.floor(s-n/2),r.get("borderColor"),h,n).append(),i=a.length;i--;)a[i]&&(t=this.renderSlice(i).append(),this.valueShapes[i]=t.id,this.shapes[t.id]=i);e.render()}}}),t.fn.sparkline.box=_=e(t.fn.sparkline._base,{type:"box",init:function(i,e,a,r,s){_._super.init.call(this,i,e,a,r,s),this.values=t.map(e,Number),this.width="auto"===a.get("width")?"4.0em":r,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==h&&t.push({field:"lo",value:this.loutlier}),this.routlier!==h&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==h&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==h&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,i,e,a,r,n,l,p,g,d,c,u=this.target,f=this.values,m=f.length,v=this.options,x=this.canvasWidth,C=this.canvasHeight,y=v.get("chartRangeMin")===h?o.min.apply(o,f):v.get("chartRangeMin"),b=v.get("chartRangeMax")===h?o.max.apply(o,f):v.get("chartRangeMax"),k=0;if(_._super.render.call(this)){if(v.get("raw"))v.get("showOutliers")&&f.length>5?(i=f[0],t=f[1],a=f[2],r=f[3],n=f[4],l=f[5],p=f[6]):(t=f[0],a=f[1],r=f[2],n=f[3],l=f[4]);else if(f.sort(function(t,i){return t-i}),a=s(f,1),r=s(f,2),e=(n=s(f,3))-a,v.get("showOutliers")){for(t=l=h,g=0;m>g;g++)t===h&&f[g]>a-e*v.get("outlierIQR")&&(t=f[g]),f[g]<n+e*v.get("outlierIQR")&&(l=f[g]);i=f[0],p=f[m-1]}else t=f[0],l=f[m-1];this.quartiles=[a,r,n],this.lwhisker=t,this.rwhisker=l,this.loutlier=i,this.routlier=p,c=x/(b-y+1),v.get("showOutliers")&&(k=o.ceil(v.get("spotRadius")),c=(x-=2*o.ceil(v.get("spotRadius")))/(b-y+1),t>i&&u.drawCircle((i-y)*c+k,C/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append(),p>l&&u.drawCircle((p-y)*c+k,C/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append()),u.drawRect(o.round((a-y)*c+k),o.round(.1*C),o.round((n-a)*c),o.round(.8*C),v.get("boxLineColor"),v.get("boxFillColor")).append(),u.drawLine(o.round((t-y)*c+k),o.round(C/2),o.round((a-y)*c+k),o.round(C/2),v.get("lineColor")).append(),u.drawLine(o.round((t-y)*c+k),o.round(C/4),o.round((t-y)*c+k),o.round(C-C/4),v.get("whiskerColor")).append(),u.drawLine(o.round((l-y)*c+k),o.round(C/2),o.round((n-y)*c+k),o.round(C/2),v.get("lineColor")).append(),u.drawLine(o.round((l-y)*c+k),o.round(C/4),o.round((l-y)*c+k),o.round(C-C/4),v.get("whiskerColor")).append(),u.drawLine(o.round((r-y)*c+k),o.round(.1*C),o.round((r-y)*c+k),o.round(.9*C),v.get("medianColor")).append(),v.get("target")&&(d=o.ceil(v.get("spotRadius")),u.drawLine(o.round((v.get("target")-y)*c+k),o.round(C/2-d),o.round((v.get("target")-y)*c+k),o.round(C/2+d),v.get("targetColor")).append(),u.drawLine(o.round((v.get("target")-y)*c+k-d),o.round(C/2),o.round((v.get("target")-y)*c+k+d),o.round(C/2),v.get("targetColor")).append()),u.render()}}}),H=e({init:function(t,i,e,a){this.target=t,this.id=i,this.type=e,this.args=a},append:function(){return this.target.appendShape(this),this}}),W=e({_pxregex:/(\d+)(px)?\s*$/i,init:function(i,e,a){i&&(this.width=i,this.height=e,this.target=a,this.lastShapeId=null,a[0]&&(a=a[0]),t.data(a,"_jqs_vcanvas",this))},drawLine:function(t,i,e,a,r,s){return this.drawShape([[t,i],[e,a]],r,s)},drawShape:function(t,i,e,a){return this._genShape("Shape",[t,i,e,a])},drawCircle:function(t,i,e,a,r,s){return this._genShape("Circle",[t,i,e,a,r,s])},drawPieSlice:function(t,i,e,a,r,s,n){return this._genShape("PieSlice",[t,i,e,a,r,s,n])},drawRect:function(t,i,e,a,r,s){return this._genShape("Rect",[t,i,e,a,r,s])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(i,e){t(e).html(i)},_calculatePixelDims:function(i,e,a){var r;r=this._pxregex.exec(e),this.pixelHeight=r?r[1]:t(a).height(),r=this._pxregex.exec(i),this.pixelWidth=r?r[1]:t(a).width()},_genShape:function(t,i){var e=P++;return i.unshift(e),new H(this,e,t,i)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),T=e(W,{init:function(i,e,a,r){T._super.init.call(this,i,e,a),this.canvas=n.createElement("canvas"),a[0]&&(a=a[0]),t.data(a,"_jqs_vcanvas",this),t(this.canvas).css({display:"inline-block",width:i,height:e,verticalAlign:"top"}),this._insert(this.canvas,a),this._calculatePixelDims(i,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=r,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=h,t(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,i,e){var a=this.canvas.getContext("2d");return t!==h&&(a.strokeStyle=t),a.lineWidth=e===h?1:e,i!==h&&(a.fillStyle=i),a},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=h},_drawShape:function(t,i,e,a,r){var s,n,o=this._getContext(e,a,r);for(o.beginPath(),o.moveTo(i[0][0]+.5,i[0][1]+.5),s=1,n=i.length;n>s;s++)o.lineTo(i[s][0]+.5,i[s][1]+.5);e!==h&&o.stroke(),a!==h&&o.fill(),this.targetX!==h&&this.targetY!==h&&o.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,i,e,a,r,s,n){var l=this._getContext(r,s,n);l.beginPath(),l.arc(i,e,a,0,2*o.PI,!1),this.targetX!==h&&this.targetY!==h&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),r!==h&&l.stroke(),s!==h&&l.fill()},_drawPieSlice:function(t,i,e,a,r,s,n,o){var l=this._getContext(n,o);l.beginPath(),l.moveTo(i,e),l.arc(i,e,a,r,s,!1),l.lineTo(i,e),l.closePath(),n!==h&&l.stroke(),o&&l.fill(),this.targetX!==h&&this.targetY!==h&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,i,e,a,r,s,n){return this._drawShape(t,[[i,e],[i+a,e],[i+a,e+r],[i,e+r],[i,e]],s,n)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,i){var e,a=this.shapeseq;for(this.shapes[i.id]=i,e=a.length;e--;)a[e]==t&&(a[e]=i.id);delete this.shapes[t]},replaceWithShapes:function(t,i){var e,a,r,s=this.shapeseq,n={};for(a=t.length;a--;)n[t[a]]=!0;for(a=s.length;a--;)n[e=s[a]]&&(s.splice(a,1),delete this.shapes[e],r=a);for(a=i.length;a--;)s.splice(r,0,i[a].id),this.shapes[i[a].id]=i[a]},insertAfterShape:function(t,i){var e,a=this.shapeseq;for(e=a.length;e--;)if(a[e]===t)return a.splice(e+1,0,i.id),void(this.shapes[i.id]=i)},removeShapeId:function(t){var i,e=this.shapeseq;for(i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}delete this.shapes[t]},getShapeAt:function(t,i,e){return this.targetX=i,this.targetY=e,this.render(),this.currentTargetShapeId},render:function(){var t,i,e=this.shapeseq,a=this.shapes,r=e.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),i=0;r>i;i++)this["_draw"+(t=a[e[i]]).type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}}),I=e(W,{init:function(i,e,a){I._super.init.call(this,i,e,a),a[0]&&(a=a[0]),t.data(a,"_jqs_vcanvas",this),this.canvas=n.createElement("span"),t(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:i,height:e,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,a),this._calculatePixelDims(i,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.canvas.insertAdjacentHTML("beforeEnd",'<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>'),this.group=t(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,i,e,a,r){var s,n,o,l,p=[];for(l=0,o=i.length;o>l;l++)p[l]=i[l][0]+","+i[l][1];return s=p.splice(0,1),r=r===h?1:r,n=p[0]===p[p.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+(e===h?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+e+'" ')+(a===h?' filled="false"':' fillColor="'+a+'" filled="true" ')+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+s+" l "+p.join(", ")+" "+n+'e"> </v:shape>'},_drawCircle:function(t,i,e,a,r,s,n){return'<v:oval  id="jqsshape'+t+'" '+(r===h?' stroked="false" ':' strokeWeight="'+n+'px" strokeColor="'+r+'" ')+(s===h?' filled="false"':' fillColor="'+s+'" filled="true" ')+' style="position:absolute;top:'+(e-=a)+"px; left:"+(i-=a)+"px; width:"+2*a+"px; height:"+2*a+'px"></v:oval>'},_drawPieSlice:function(t,i,e,a,r,s,n,l){var p,g,d,c;if(r===s)return"";if(s-r==2*o.PI&&(r=0,s=2*o.PI),p=i+o.round(o.cos(r)*a),g=e+o.round(o.sin(r)*a),d=i+o.round(o.cos(s)*a),c=e+o.round(o.sin(s)*a),p===d&&g===c){if(s-r<o.PI)return"";p=d=i+a,g=c=e}return p===d&&g===c&&s-r<o.PI?"":'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+(n===h?' stroked="false" ':' strokeWeight="1px" strokeColor="'+n+'" ')+(l===h?' filled="false"':' fillColor="'+l+'" filled="true" ')+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+i+","+e+" wa "+[i-a,e-a,i+a,e+a,p,g,d,c].join(", ")+' x e"> </v:shape>'},_drawRect:function(t,i,e,a,r,s,n){return this._drawShape(t,[[i,e],[i,e+r],[i+a,e+r],[i+a,e],[i,e]],s,n)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var i=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",i):this.prerender+=i,this.lastShapeId=t.id,t.id},replaceWithShape:function(i,e){var a=t("#jqsshape"+i),r=this["_draw"+e.type].apply(this,e.args);a[0].outerHTML=r},replaceWithShapes:function(i,e){var a,r=t("#jqsshape"+i[0]),s="",n=e.length;for(a=0;n>a;a++)s+=this["_draw"+e[a].type].apply(this,e[a].args);for(r[0].outerHTML=s,a=1;a<i.length;a++)t("#jqsshape"+i[a]).remove()},insertAfterShape:function(i,e){var a=t("#jqsshape"+i),r=this["_draw"+e.type].apply(this,e.args);a[0].insertAdjacentHTML("afterEnd",r)},removeShapeId:function(i){var e=t("#jqsshape"+i);this.group.removeChild(e[0])},getShapeAt:function(t){return t.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})},"8rVx":function(t,i){t.exports=function(t){function i(t){"undefined"!=typeof console&&(console.error||console.log)("[Script Loader]",t)}try{"undefined"!=typeof execScript&&"undefined"!=typeof attachEvent&&"undefined"==typeof addEventListener?execScript(t):"undefined"!=typeof eval?eval.call(null,t):i("EvalError: No eval function available")}catch(e){i(e)}}},hHXt:function(t,i,e){"use strict";e.d(i,"a",function(){return a}),e("7k6U");var a=function(){function t(t){this.el=t,this.container=this.el.nativeElement}return t.prototype.ngOnInit=function(){this.drawSparklines()},t.prototype.barChart=function(t){var i=t.data("sparkline-bar-color")||t.css("color")||"#0000f0",e=t.data("sparkline-height")||"26px",a=t.data("sparkline-barwidth")||5,r=t.data("sparkline-barspacing")||2,s=t.data("sparkline-negbar-color")||"#A90329",n=t.data("sparkline-barstacked-color")||["#A90329","#0099c6","#98AA56","#da532c","#4490B1","#6E9461","#990099","#B4CAD3"];t.sparkline("html",{barColor:i,type:"bar",height:e,barWidth:a,barSpacing:r,stackedBarColor:n,negBarColor:s,zeroAxis:"false",tooltipContainer:this.container})},t.prototype.lineChart=function(t){var i=t.data("sparkline-height")||"20px",e=t.data("sparkline-width")||"90px",a=t.data("sparkline-line-color")||t.css("color")||"#0000f0",r=t.data("sparkline-line-width")||1,s=t.data("fill-color")||"#c0d0f0",n=t.data("sparkline-spot-color")||"#f08000",o=t.data("sparkline-minspot-color")||"#ed1c24",h=t.data("sparkline-maxspot-color")||"#f08000",l=t.data("sparkline-highlightspot-color")||"#50f050",p=t.data("sparkline-highlightline-color")||"f02020",g=t.data("sparkline-spotradius")||1.5,d=t.data("sparkline-min-y"),c=t.data("sparkline-max-y"),u=t.data("sparkline-min-x"),f=t.data("sparkline-max-x"),m=t.data("min-val"),v=t.data("max-val"),x=t.data("norm-color")||"#c0c0c0",C=t.data("draw-normal")||!1;t.sparkline("html",{type:"line",width:e,height:i,lineWidth:r,lineColor:a,fillColor:s,spotColor:n,minSpotColor:o,maxSpotColor:h,highlightSpotColor:l,highlightLineColor:p,spotRadius:g,chartRangeMin:d,chartRangeMax:c,chartRangeMinX:u,chartRangeMaxX:f,normalRangeMin:m,normalRangeMax:v,normalRangeColor:x,drawNormalOnTop:C,tooltipContainer:this.container})},t.prototype.pieChart=function(t){var i=t.data("sparkline-piecolor")||["#B4CAD3","#4490B1","#98AA56","#da532c","#6E9461","#0099c6","#990099","#717D8A"],e=t.data("sparkline-piesize")||90,a=t.data("border-color")||"#45494C",r=t.data("sparkline-offset")||0;t.sparkline("html",{type:"pie",width:e,height:e,tooltipFormat:'<span style="color: {{color}}">&#9679;</span> ({{percent.1}}%)',sliceColors:i,borderWidth:1,offset:r,borderColor:a,tooltipContainer:this.container})},t.prototype.boxChart=function(t){var i=t.data("sparkline-width")||"auto",e=t.data("sparkline-height")||"auto",a=t.data("sparkline-boxraw"),r=t.data("sparkline-targetval"),s=t.data("sparkline-min"),n=t.data("sparkline-max"),o=t.data("sparkline-showoutlier")||!0,h=t.data("sparkline-outlier-iqr")||1.5,l=t.data("sparkline-spotradius")||1.5,p=t.css("color")||"#000000",g=t.data("fill-color")||"#c0d0f0",d=t.data("sparkline-whis-color")||"#000000",c=t.data("sparkline-outline-color")||"#303030",u=t.data("sparkline-outlinefill-color")||"#f0f0f0",f=t.data("sparkline-outlinemedian-color")||"#f00000",m=t.data("sparkline-outlinetarget-color")||"#40a020";t.sparkline("html",{type:"box",width:i,height:e,raw:a,target:r,minValue:s,maxValue:n,showOutliers:o,outlierIQR:h,spotRadius:l,boxLineColor:p,boxFillColor:g,whiskerColor:d,outlierLineColor:c,outlierFillColor:u,medianColor:f,targetColor:m,tooltipContainer:this.container})},t.prototype.bulletChart=function(t){var i=t.data("sparkline-height")||"auto",e=t.data("sparkline-width")||2,a=t.data("sparkline-bullet-color")||"#ed1c24",r=t.data("sparkline-performance-color")||"#3030f0",s=t.data("sparkline-bulletrange-color")||["#d3dafe","#a8b6ff","#7f94ff"];t.sparkline("html",{type:"bullet",height:i,targetWidth:e,targetColor:a,performanceColor:r,rangeColors:s,tooltipContainer:this.container})},t.prototype.discreteChart=function(t){var i=t.data("sparkline-height")||26,e=t.data("sparkline-width")||50,a=t.css("color"),r=t.data("sparkline-line-height")||5,s=t.data("sparkline-threshold"),n=t.data("sparkline-threshold-color")||"#ed1c24";t.sparkline("html",{type:"discrete",width:e,height:i,lineColor:a,lineHeight:r,thresholdValue:s,thresholdColor:n,tooltipContainer:this.container})},t.prototype.tristaneChart=function(t){var i=t.data("sparkline-height")||26,e=t.data("sparkline-posbar-color")||"#60f060",a=t.data("sparkline-negbar-color")||"#f04040",r=t.data("sparkline-zerobar-color")||"#909090",s=t.data("sparkline-barwidth")||5,n=t.data("sparkline-barspacing")||2,o=t.data("sparkline-zeroaxis");t.sparkline("html",{type:"tristate",height:i,posBarColor:e,negBarColor:a,zeroBarColor:r,barWidth:s,barSpacing:n,zeroAxis:o,tooltipContainer:this.container})},t.prototype.compositeBarChart=function(t){var i=t.data("sparkline-height")||"20px",e=t.data("sparkline-width")||"100%",a=t.data("sparkline-barwidth")||3,r=t.data("sparkline-line-width")||1,s=t.data("sparkline-color-top")||"#ed1c24",n=t.data("sparkline-color-bottom")||"#333333";t.sparkline(t.data("sparkline-bar-val"),{type:"bar",width:e,height:i,barColor:n,barWidth:a,tooltipContainer:this.container}),t.sparkline(t.data("sparkline-line-val"),{width:e,height:i,lineColor:s,lineWidth:r,composite:!0,fillColor:!1,tooltipContainer:this.container})},t.prototype.compositeLineChart=function(t){var i=t.data("sparkline-height"),e=t.data("sparkline-width"),a=t.data("sparkline-bar-val"),r=t.data("sparkline-bar-val-spots-top"),s=t.data("sparkline-bar-val-spots-bottom"),n=t.data("sparkline-line-width-top"),o=t.data("sparkline-line-width-bottom"),h=t.data("sparkline-color-top"),l=t.data("sparkline-color-bottom"),p=t.data("sparkline-spotradius-top"),g=t.data("sparkline-spotradius-bottom"),d=t.data("sparkline-spot-color"),c=t.data("sparkline-minspot-color-top"),u=t.data("sparkline-maxspot-color-top"),f=t.data("sparkline-minspot-color-bottom"),m=t.data("sparkline-maxspot-color-bottom"),v=t.data("sparkline-highlightspot-color-top"),x=t.data("sparkline-highlightline-color-top"),C=t.data("sparkline-highlightspot-color-bottom"),y=t.data("sparkline-highlightline-color-bottom"),b=t.data("sparkline-fillcolor-top"),k=t.data("sparkline-fillcolor-bottom");t.sparkline(a,{type:"line",spotRadius:p,spotColor:d,minSpotColor:c,maxSpotColor:u,highlightSpotColor:v,highlightLineColor:x,valueSpots:r,lineWidth:n,width:e,height:i,lineColor:h,fillColor:b,tooltipContainer:this.container}),t.sparkline(t.data("sparkline-line-val"),{type:"line",spotRadius:g,spotColor:d,minSpotColor:f,maxSpotColor:m,highlightSpotColor:C,highlightLineColor:y,valueSpots:s,lineWidth:o,width:e,height:i,lineColor:l,composite:!0,fillColor:k,tooltipContainer:this.container})},t.prototype.drawSparklines=function(){var t=this;$(".sparkline:not(:has(>canvas))",this.container).each(function(i,e){var a=$(e),r=a.data("sparkline-type")||"bar";"bar"==r&&t.barChart(a),"line"==r&&t.lineChart(a),"pie"==r&&t.pieChart(a),"box"==r&&t.boxChart(a),"bullet"==r&&t.bulletChart(a),"discrete"==r&&t.discreteChart(a),"tristate"==r&&t.tristaneChart(a),"compositebar"==r&&t.compositeBarChart(a),"compositeline"==r&&t.compositeLineChart(a)})},t}()}}]);